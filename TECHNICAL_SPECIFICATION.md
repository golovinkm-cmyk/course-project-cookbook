# Техническое задание: Персональная кулинарная книга

**Студент:** Головин Кирилл Максимович

**Группа:** 2307В2

---

## 1. Описание проекта

### 1.1 Название системы
 
Разработка приложения "Персональная кулинарная книга" на платформе WPF


### 1.2 Назначение
Система предназначена для хранения базы рецептов и обеспечения удобного доступа пользователя к своим кулинарным идеям, записи личных рецептов с возможностью поиска, фильтрации.


## 2. Функциональные требования

### 2.1 Основные функции системы


#### Функция 1: Добавление нового рецепта
 - **Описание:**  Пользователь может добавлять новые рецепты в свою кулинарную книгу. Заполняет основную информацию о рецепте: название, категория, ингредиенты, пошаговое описание приготовления, время приготовления, сложность.

- **Входные данные:**  Название рецепта, категория, список ингредиентов, инструкция приготовления, время приготовления, уровень сложности

- **Результат:**  Новый рецепт сохранен в базе данных, доступен для просмотра и редактирования

#### Функция 2: Поиск и фильтрация рецептов

- **Описание:** Пользователь может осуществлять поиск рецептов по названию, ингредиентам или категории. Также доступна фильтрация по различным параметрам: время приготовления, сложность, категория.

- **Входные данные:** Ключевые слова для поиска, параметры фильтрации

- **Результат:** Отображение отфильтрованного списка рецептов, соответствующих критериям поиска

#### Функция 3: Просмотр рецептов

- **Описание:**
 Пользователь может просматривать полную информацию о рецепте в удобном формате. Система отображает все детали рецепта: название, категорию, изображение (если есть), список ингредиентов с количествами, пошаговую инструкцию приготовления, время приготовления, уровень сложности и количество порций. В демо-версии некоторые рецепты могут быть заблокированы для просмотра.

- **Входные данные:**
 Выбранный рецепт из списка

- **Результат:**
Отображение полной информации о рецепте в читаемом формате


#### Функция 4: Редактирование рецептов
- **Описание:** Пользователь может изменять существующие рецепты: корректировать название, изменять состав ингредиентов, обновлять инструкцию приготовления, менять категорию и другие параметры.

- **Входные данные:** Измененные данные рецепта

- **Результат:** Обновленная информация о рецепте сохранена в базе данных


#### Функция 5: Управление категориями
- **Описание:** Пользователь может создавать, редактировать и удалять категории для организации рецептов (например: "Супы", "Десерты", "Основные блюда", "Выпечка" и т.д.)

- **Входные данные:** Название категории, описание 

- **Результат:** Создана/изменена/удалена категория в системе


#### Функция 6: Покупка приложения

- **Описание:** Пользователь может приобрести полную версию приложения "Персональная кулинарная книга" через систему оплаты. Система предоставляет выбор лицензии (пожизненная, годовая, месячная). После успешной оплаты активируется полная версия приложения с доступом ко всем функциям.

- **Входные данные:** Выбранный тип лицензии, данные банковской карты (номер, срок действия, CVV код)

- **Результат:** Активирована полная версия приложения, сгенерирован лицензионный ключ, отправка подтверждения на email, запись в таблицу базы данных
---
## 3. Структура базы данных

#### Таблица 1: Categories (Категории)
- **Описание:** Хранит категории рецептов для организации

- **Поля:**

Id (int, PK) — уникальный идентификатор категории

Name (string) — название категории

Description (string?) — описание категории (nullable)

CreatedDate (datetime) — дата создания категории

- **Связи:**

Связь один-ко-многим с таблицей Recipes (одна категория может содержать много рецептов)

---

#### Таблица 2: Recipes (Рецепты)
- **Описание:** Основная таблица для хранения рецептов

- **Поля:**

Id (int, PK) — уникальный идентификатор рецепта

Title (string) — название рецепта

Description (string?) — описание рецепта (nullable)

Instructions (string) — пошаговая инструкция приготовления

PreparationTime (int) — время приготовления в минутах

CookingTime (int) — время готовки в минутах

Servings (int) — количество порций

DifficultyLevel (string) — уровень сложности (легкий, средний, сложный)

CategoryId (int, FK → Categories) — идентификатор категории

CreatedDate (datetime) — дата создания рецепта

ModifiedDate (datetime) — дата последнего изменения

IsFavorite (bool) — признак избранного рецепта

IsLocked (bool) — признак заблокированного рецепта в демо-версии

ImagePath (string?) — путь к изображению рецепта (nullable)

- **Связи:**

CategoryId → Categories.Id

Связь один-ко-многим с таблицей RecipeIngredients

---

#### Таблица 3: Ingredients (Ингредиенты)
- **Описание:** Справочник ингредиентов

- **Поля:**

Id (int, PK) — уникальный идентификатор ингредиента

Name (string) — название ингредиента

Unit (string) — единица измерения (г, мл, шт, по вкусу и т.д.)

Category (string?) — категория ингредиента (овощи, фрукты, мясо и т.д.)

- **Связи:**

Связь один-ко-многим с таблицей RecipeIngredients

---

#### Таблица 4: RecipeIngredients (Ингредиенты рецептов)
- **Описание:** Связующая таблица для хранения ингредиентов конкретных рецептов

- **Поля:**

Id (int, PK) — уникальный идентификатор связи

RecipeId (int, FK → Recipes) — идентификатор рецепта

IngredientId (int, FK → Ingredients) — идентификатор ингредиента

Quantity (decimal) — количество ингредиента

Notes (string?) — дополнительные заметки по ингредиенту (nullable)

- **Связи:**

RecipeId → Recipes.Id

IngredientId → Ingredients.Id

---

#### Таблица 5: Licenses (Лицензии)
- **Описание:** Хранит информацию о покупках приложения

- **Поля:**

Id (int, PK) — уникальный идентификатор лицензии

LicenseKey (string) — уникальный лицензионный ключ

LicenseType (string) — тип лицензии (пожизненная, годовая, месячная)

PurchaseDate (datetime) — дата покупки

ActivationDate (datetime) — дата активации

ExpiryDate (datetime?) — дата окончания действия (для временных лицензий)

IsActive (bool) — статус активности лицензии

CustomerName (string) — имя покупателя

CustomerEmail (string) — email покупателя

Price (decimal) — стоимость лицензии

- **Связи:**

Связь один-ко-одному с таблицей Payments

---

#### Таблица 6: Payments (Платежи)
- **Описание:** Хранит информацию о платежах за приложение

- **Поля:**

Id (int, PK) — уникальный идентификатор платежа

LicenseId (int, FK → Licenses) — идентификатор лицензии

PaymentDate (datetime) — дата и время платежа

Amount (decimal) — сумма платежа

PaymentMethod (string) — метод оплаты (карта)

PaymentStatus (string) — статус платежа (успешно, ошибка, ожидание)

TransactionId (string?) — идентификатор транзакции (nullable)

CardLastFour (string) — последние 4 цифры карты

- **Связи:**

LicenseId → Licenses.Id

---








